<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ö–∞—Ç–∞–ª–æ–≥ PRIN</title>
    <link rel="icon" href="/static/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/static/css/style.css">
    <script>
    window.addEventListener("beforeunload", function () {
        localStorage.setItem("scrollY", window.scrollY);
    });

    window.addEventListener("load", function () {
        const scrollY = localStorage.getItem("scrollY");
        if (scrollY !== null) {
            window.scrollTo(0, parseInt(scrollY));
            localStorage.removeItem("scrollY");
        }
    });
</script>
</head>
<body>
<header class="header">
    <nav class="nav">
        <ul class="nav-list">
            <a href="/" class="logo">
            <img src="/static/images/logo.png" alt="–õ–æ–≥–æ">
            </a>
            <li><a href="/contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            <li><a href="/pvzadresa">–ê–¥—Ä–µ—Å–∞ –ü–í–ó</a></li>
            {% if current_user.is_authenticated %}
                <li><a href="/profile">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                <li><a href="/logout">–í—ã–π—Ç–∏</a></li>
            {% else %}
                <li><a href="/login">–í–æ–π—Ç–∏</a></li>
                <li><a href="/signup">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></li>
            {% endif %}
        </ul>
    </nav>
</header>
<div class="catalogtovarov">
    <h1>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h1>
</div>
{% if products %}
    <div class="product-grid">
        {% for product in products %}
            <a href="{{ url_for('product_page', articul=product.articul) }}" class="product-card-link">
                <div class="product-card">
                    <img src="{{ product.image_url or '/static/images/placeholder.png' }}" alt="–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description }}</p>
                    <p>–¶–µ–Ω–∞: <strong>{{ product.price }} ‚ÇΩ</strong></p>
                    <p>–û—Å—Ç–∞–ª–æ—Å—å: {{ product.stock_quantity }}</p>
                    <p><small>–ê—Ä—Ç–∏–∫—É–ª: {{ product.articul }}</small></p>
                    <p>–ü—Ä–æ–¥–∞–≤–µ—Ü: {{ product.seller_name }}</p>
                </div>
            </a>
        {% endfor %}
    </div>
{% else %}
    <div class="no-products-message">
    <p>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>
    </div>
{% endif %}
<div class="pagination">
      {% if page > 1 %}
        <a href="{{ url_for('catalog', page=page-1) }}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
      {% endif %}

      <span>–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ page }} –∏–∑ {{ total_pages }}</span>

      {% if page < total_pages %}
        <a href="{{ url_for('catalog', page=page+1) }}">–°–ª–µ–¥—É—é—â–∞—è</a>
      {% endif %}
</div>
<footer class="footer">
    <p class="copyright">PRIN - –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å ¬© –º–∞—Ä–∫ "quadeck" –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä 2025-2025.</p>
    <p class="disclaimer">–ü–µ—Ä–µ—Ö–æ–¥—è —Å—é–¥–∞ –≤—ã –¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ —á—Ç–æ —è —Å–ø–∏—Å—ã–≤–∞—é –≤—Å–µ –¥–µ–Ω—å–≥–∏ —Å –≤–∞—à–µ–π –∫–∞—Ä—Ç—ã –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∞–º–∏ —Å–æ–≥–ª–∞—Å–∏–ª–∏—Å—å –Ω–∞ –∞—Ñ–µ—Ä—Ç—É(–∞—Ñ–µ—Ä—É) –∏ –º–Ω–µ –≤–∞—â–µ –ø–æ—Öüòéüòéüòé</p>
</footer>
</body>
</html>