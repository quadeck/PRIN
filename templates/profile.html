<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç PRIN</title>
    <link rel="icon" href="/static/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="/static/css/style.css">
    <script>
        function clearImage() {
            document.getElementById("image").value = "";
            document.getElementById("image-button").innerText = "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª";
            document.getElementById("delete-button").classList.remove("visible");
        }

        function updateFileName() {
            var fileInput = document.getElementById('image');
            var fileName = fileInput.files.length > 0 ? fileInput.files[0].name : '–ù–µ –≤—ã–±—Ä–∞–Ω —Ñ–∞–π–ª';
            document.getElementById('image-button').innerText = fileName;

            var deleteButton = document.getElementById("delete-button");
            if (fileInput.files.length > 0) {
                deleteButton.classList.add("visible");
            } else {
                deleteButton.classList.remove("visible");
            }
        }
    </script>
</head>
<body>
<header class="header">
    <nav class="nav">
        <ul class="nav-list">
            <a href="/" class="logo">
            <img src="/static/images/logo.png" alt="–õ–æ–≥–æ">
            </a>
            <li><a href="/contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            <li><a href="/pvzadresa">–ê–¥—Ä–µ—Å–∞ –ü–í–ó</a></li>
            {% if current_user.is_authenticated %}
                <li><a href="/profile">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                <li><a href="/logout">–í—ã–π—Ç–∏</a></li>
            {% else %}
                <li><a href="/login">–í–æ–π—Ç–∏</a></li>
                <li><a href="/signup">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></li>
            {% endif %}
        </ul>
    </nav>
</header>
<div class="profile-container">
<h2>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
<p>–ù–∏–∫: {{ user.username }}</p>
<p>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: {{ user.created_at }}</p>

{% if avatar_url %}
    <img src="{{ avatar_url }}" alt="–ê–≤–∞—Ç–∞—Ä–∫–∞" style="width: 150px; border-radius: 50%;">
{% endif %}
<form method="POST" class="profile-button" enctype="multipart/form-data">
    <input type="text" name="name" placeholder="–ù–æ–≤–æ–µ –∏–º—è">
    <label for="image" class="file-button" id="image-button">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ç–æ</label>
    <input type="file" id="image" name="image" accept="image/*" onchange="updateFileName()">
    <button type="button" id="delete-button" class="delete-button" onclick="clearImage()">–£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
    <button type="submit" class="photo-button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
</form>
    <style>
        .tobasket-button button{
            margin-top: 15px;
            background-color: black;
        }
        .tobasket-button button:hover{
            background-color: #232323;
        }
        .tohistory-button button {
            margin-top: 15px;
            background-color: #d000ff;
        }
        .tohistory-button button:hover{
            background-color: #8c00ff;
        }
        .tomy-button button {
            margin-top: 15px;
            background-color: #ff7100;
        }
        .tomy-button button:hover{
            background-color: #b54a01;
        }
    </style>
        <a class="tobasket-button" href="/profile/basket">
            <button type="button">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É üõí</button>
        </a>
        <a class="tohistory-button" href="/profile/order_history">
            <button type="button">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ üïí</button>
        </a>
        <a class="tomy-button" href="/profile/products">
            <button type="button">–ú–æ–∏ —Ç–æ–≤–∞—Ä—ã üì¶</button>
        </a>
</div>
<footer class="footer">
    <p class="copyright">PRIN - –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å ¬© –º–∞—Ä–∫ "quadeck" –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä 2025-2025.</p>
    <p class="disclaimer">–ü–µ—Ä–µ—Ö–æ–¥—è —Å—é–¥–∞ –≤—ã –¥–∞–µ—Ç–µ —Å–æ–≥–ª–∞—Å–∏–µ —á—Ç–æ —è —Å–ø–∏—Å—ã–≤–∞—é –≤—Å–µ –¥–µ–Ω—å–≥–∏ —Å –≤–∞—à–µ–π –∫–∞—Ä—Ç—ã –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∞–º–∏ —Å–æ–≥–ª–∞—Å–∏–ª–∏—Å—å –Ω–∞ –∞—Ñ–µ—Ä—Ç—É(–∞—Ñ–µ—Ä—É) –∏ –º–Ω–µ –≤–∞—â–µ –ø–æ—Öüòéüòéüòé</p>
</footer>
</body>
</html>